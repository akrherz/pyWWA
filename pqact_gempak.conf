#
# Process any HRS data we get
#
HRS	.*
	PIPE	dcgrib2 -d data/gempak/logs/dcgrib.log

# SAO for the world!
DDS|IDS	^(S[AP].* .... [0-3][0-9][0-2][0-9])
	PIPE	dcmetr -b 9 -m 72 -s /mesonet/TABLES/mesonet.stns
		-d logs/dcmetr_sao.log
		/mesonet/data/gempak/sao/YYMMDD_sao.gem

# Save SAO files
# -close the FD to keep from having lots of open FDs
DDS|IDS	^S[AP][ACHMNPUX][AEKMNSUWX].. .... ([0-3][0-9])([0-2][0-9])
	FILE	-close	/mesonet/data/text/sao/(\1:yy)(\1:mm)\1\2.sao

# Process RWIS data into a surface file
EXP	^IArwis.*sao
	PIPE	dcmetr -b 9 -m 72 -s /mesonet/TABLES/RWIS4.stns
		-d logs/dcmetr_meso2.log -a 0
		/mesonet/data/gempak/rwis/YYMMDD_rwis.gem

# Mesonet data file!
DDS|IDS|EXP	^(S[AP]US.*|IArwis.*sao|awos.*dat)
	PIPE	dcmetr -b 9 -m 72 -s /mesonet/TABLES/mesonet4.stns
		-d logs/dcmetr_meso1.log -a 0
		/mesonet/data/gempak/meso/YYMMDD_meso.gem

# Process SNET data into a surface file
EXP	^(IAsnet......\.dat|kelo\.sao)
	PIPE	dcmetr -b 9 -m 72 -s /mesonet/TABLES/snet4.stns
		-t 600 -d logs/dcmetr_snet.log -a 0
		/mesonet/data/gempak/surface/snet/YYMMDD_snet.gem

# Process AWOS data
#DDS|IDS|EXP    ^(S[AP].* .... [0-3][0-9][0-2][0-9]|awos.*dat)
DDS|IDS	^(S[AP].* .... [0-3][0-9][0-2][0-9])
	PIPE	dcmetr -b 9 -m 72 -s /mesonet/TABLES/awos.stns
		-d logs/dcmetr_awos.log -a 0
		/mesonet/data/gempak/awos/YYMMDD_awos.gem

# ASOS stuff
DDS|PPS	^S[AP].* .... ([0-3][0-9])([0-2][0-9])
	PIPE	dcmetr  -b 9 -m 72 -s /mesonet/TABLES/asos.stns
		-d logs/dcmetr_asos.log -a 0
		/mesonet/data/gempak/asos/YYMMDD_asos.gem
